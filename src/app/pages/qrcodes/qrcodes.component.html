<h1 class="page-title">
    Códigos QR
</h1>
<section class="controls pt-3 pb-3">
    <div class="input-group">
        <input type="text" class="form-control" placeholder="Código QR" aria-label="Código QR">
        <span class="input-group-btn">
            <button class="btn btn-outline-secondary" type="button">
                <i class="fa fa-fw fa-search"></i>
            </button>
        </span>
    </div>
    <button class="btn btn-primary ml-auto" (click)="openModal(templateAddQr)">
        <i class="fa fa-plus mr-3" aria-hidden="true"></i>
        <span>Agregar QR</span>
    </button>
</section>
<section class="qr-codes">
    <div class="heading">
        <div class="name-column">
            Nombre <i class="fa fa-chevron-down"></i>
        </div>
        <div class="qr-id-column">
            QR ID <i class="fa fa-chevron-down"></i>
        </div>
        <div class="phone-column">
            Teléfono <i class="fa fa-chevron-down"></i>
        </div>
    </div>
    <ul class="list">
        <li *ngFor="let code of qrCodes" class="list-item" [class.is-disabled]="!code.enabled">
            <div class="name-column">
                {{code.name}}
            </div>
            <div class="qr-id-column">
                <a href="#">
                    <span *ngIf="code.enabled">
                        {{code.qrId}}
                    </span>
                </a>
                <span *ngIf="!code.enabled">
                    Deshabilitado
                </span>
            </div>
            <div class="phone-column">
                {{code.phone}}
            </div>

            <div dropdownToggle class="btn-group actions-button" dropdown placement="bottom right">
                <i class="fa fa-ellipsis-v"></i>
                <ul *dropdownMenu class="dropdown-menu dropdown-menu-right" role="menu">
                    <li role="menuitem">
                        <a class="dropdown-item" (click)="showCode(code)">Mostrar</a>
                    </li>
                    <li class="divider dropdown-divider"></li>
                    <li role="menuitem" >
                        <a class="dropdown-item" (click)="editCode(code)">Editar</a>
                    </li>
                    <li role="menuitem">
                        <a class="dropdown-item" (click)="downloadCode(code)">Descargar</a>
                    </li>
                </ul>
            </div>
        </li>
    </ul>
</section>

<ng-template #templateAddQr>
    <div class="modal-header">
        <button type="button" class="close" aria-label="Close" (click)="modalRef.hide()">
            <i class="fa fa-times"></i>
        </button>
        <h4 class="modal-title">Agregar QR</h4>
        <button type="button" class="btn btn-primary">
            Crear
        </button>
    </div>
    <div class="modal-body">
        <form>
            <div class="form-group">
                <label for="name">Nombre</label>
                <input type="text" class="form-control" id="name" placeholder="Nombre">
            </div>
            <div class="form-group">
                <label for="phone">Teléfono</label>
                <input type="tel" class="form-control" id="phone" placeholder="Teléfono">
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-outline-secondary">Cancelar</button>
        <button type="submit" class="btn btn-primary">Crear</button>
    </div>
</ng-template>
